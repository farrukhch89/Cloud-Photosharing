<!doctype html>
<html>
<head>
  <title>Datastore and Firebase Auth Example</title>
  <script src="{{ url_for('static', filename='script.js') }}"></script>
  <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <script src="https://www.gstatic.com/firebasejs/ui/4.4.0/firebase-ui-auth.js"></script>
  <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.4.0/firebase-ui-auth.css" />
</head>
<body>


  <nav>
    <ul>
      <a href="#" id="sign-out">Signout</a>
      <li style="float:right"><a class="active" href="#about">{% if user_data %} 
        {{ user_data['name'] }}
      {% elif error_message %} {{ Login }} {% endif %}</a></li>
    </ul>
  
  </nav>
    
  

  <div id = "main">

    <div id="firebase-auth-container"></div>

    <div id="login-info" hidden="true">
          {% if user_data %}
            <dl>
                Welcome back
            </dl>

            <div class = "mydiv">
              <form action="/add_directory" method="post">
                  Directory Name: <input type="text" name="dir_name"/><br><br>
                  <input type="submit"/>
              </form>
            </div>
            
      
            <div class = "mydiv">
                <form action="/upload_file" method="post" enctype="multipart/form-data">
                    Upload File: <input type="file" name="file_name" accept=".jpg,.jpeg,.png" /><br><br>
                    <input type="submit"/>
                </form> 
            </div>
        
              
              <h1>Folders</h1>
              <div class="importing">
                
                {% for i in directory_list %}
                  <div class = "boxing">
                    <form action="/delete_dir/{{ i.name | replace(direct, '') }}" method="post">
                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                    width="100" height="100"
                    viewBox="0 0 48 48"
                    style=" fill:#000000;">
                    <linearGradient id="Om5yvFr6YrdlC0q2Vet0Ha_WWogVNJDSfZ5_gr1" x1="-7.018" x2="39.387" y1="9.308" y2="33.533" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#fac017"></stop><stop offset=".909" stop-color="#e1ab2d"></stop></linearGradient><path fill="url(#Om5yvFr6YrdlC0q2Vet0Ha_WWogVNJDSfZ5_gr1)" d="M44.5,41h-41C2.119,41,1,39.881,1,38.5v-31C1,6.119,2.119,5,3.5,5h11.597	c1.519,0,2.955,0.69,3.904,1.877L21.5,10h23c1.381,0,2.5,1.119,2.5,2.5v26C47,39.881,45.881,41,44.5,41z"></path><linearGradient id="Om5yvFr6YrdlC0q2Vet0Hb_WWogVNJDSfZ5_gr2" x1="5.851" x2="18.601" y1="9.254" y2="27.39" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#fbfef3"></stop><stop offset=".909" stop-color="#e2e4e3"></stop></linearGradient><path fill="url(#Om5yvFr6YrdlC0q2Vet0Hb_WWogVNJDSfZ5_gr2)" d="M2,25h20V11H4c-1.105,0-2,0.895-2,2V25z"></path><linearGradient id="Om5yvFr6YrdlC0q2Vet0Hc_WWogVNJDSfZ5_gr3" x1="2" x2="22" y1="19" y2="19" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#fbfef3"></stop><stop offset=".909" stop-color="#e2e4e3"></stop></linearGradient><path fill="url(#Om5yvFr6YrdlC0q2Vet0Hc_WWogVNJDSfZ5_gr3)" d="M2,26h20V12H4c-1.105,0-2,0.895-2,2V26z"></path><linearGradient id="Om5yvFr6YrdlC0q2Vet0Hd_WWogVNJDSfZ5_gr4" x1="16.865" x2="44.965" y1="39.287" y2="39.792" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#e3a917"></stop><stop offset=".464" stop-color="#d79c1e"></stop></linearGradient><path fill="url(#Om5yvFr6YrdlC0q2Vet0Hd_WWogVNJDSfZ5_gr4)" d="M1,37.875V38.5C1,39.881,2.119,41,3.5,41h41c1.381,0,2.5-1.119,2.5-2.5v-0.625H1z"></path><linearGradient id="Om5yvFr6YrdlC0q2Vet0He_WWogVNJDSfZ5_gr5" x1="-4.879" x2="35.968" y1="12.764" y2="30.778" gradientUnits="userSpaceOnUse"><stop offset=".34" stop-color="#ffefb2"></stop><stop offset=".485" stop-color="#ffedad"></stop><stop offset=".652" stop-color="#ffe99f"></stop><stop offset=".828" stop-color="#fee289"></stop><stop offset="1" stop-color="#fed86b"></stop></linearGradient><path fill="url(#Om5yvFr6YrdlC0q2Vet0He_WWogVNJDSfZ5_gr5)" d="M44.5,11h-23l-1.237,0.824C19.114,12.591,17.763,13,16.381,13H3.5C2.119,13,1,14.119,1,15.5	v22C1,38.881,2.119,40,3.5,40h41c1.381,0,2.5-1.119,2.5-2.5v-24C47,12.119,45.881,11,44.5,11z"></path><radialGradient id="Om5yvFr6YrdlC0q2Vet0Hf" cx="37.836" cy="49.317" r="53.875" gradientUnits="userSpaceOnUse"><stop offset=".199" stop-color="#fec832"></stop><stop offset=".601" stop-color="#fcd667"></stop><stop offset=".68" stop-color="#fdda75"></stop><stop offset=".886" stop-color="#fee496"></stop><stop offset="1" stop-color="#ffe8a2"></stop></radialGradient><path fill="url(#undefined)" d="M44.5,40h-41C2.119,40,1,38.881,1,37.5v-21C1,15.119,2.119,14,3.5,14h13.256	c1.382,0,2.733-0.409,3.883-1.176L21.875,12H44.5c1.381,0,2.5,1.119,2.5,2.5v23C47,38.881,45.881,40,44.5,40z"></path></svg>
                    <br>{{ i.name | replace(direct, '') | replace('/','') }}<br><br><input type="submit" value = "Delete"/><br/>
                    </form>
                    
                  </div>
                {% endfor %}
              </div>
              
              <h1>Pictures</h1>
              <div class="importing">
                
                {% for i in file_list %}
                  
                  <div class = "boxing">
                    <form action="/delete_file/{{ i.name | replace(direct, '') }}" method="post"><a href="https://storage.cloud.google.com/photoshare-6a1b3.appspot.com/{{ direct | replace('@','%40') | replace('/','')}}/{{ i.name | replace(direct, '') }}?authuser=1">
                    <img src="https://storage.cloud.google.com/photoshare-6a1b3.appspot.com/{{ direct | replace('@','%40') | replace('/','')}}/{{ i.name | replace(direct, '') }}?authuser=1" alt="{{ i.name | replace(direct, '') }}" id ="zoom"><br><br><input type="submit" value = "Delete"/><br/>
                    </a></form>
                  </div>

                          
                {% endfor %}
              </div>
            {% endif %}

        <div><br><br>
          <form action="/gallery">
            <input type="Submit" value="Gallery" id = "gallery"/><br><br>
          </form> 
        </div>

        <div id ="storage">
          <h1>Storage</h1>
            Storage: {{ storage_size }} out of 50MB
        </div>
      </div>





  </div>

  <script src="https://www.gstatic.com/firebasejs/7.14.5/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.8.0/firebase-auth.js"></script>
  <script src="{{ url_for('static', filename='app-setup.js') }}"></script>


</body>
</html>
